{% extends "base.html" %}
{% block title %}Change Password · {{ block.super }}{% endblock %}
{% block content %}
  <nav class="breadcrumb" aria-label="Breadcrumb">
    <div class="breadcrumb__trail">
      <a href="{% url 'profile' %}">Profile</a>
      <span>›</span>
      <strong>Change Password</strong>
    </div>
  </nav>
  <h2>Change Password</h2>
  <form method="post">
    {% csrf_token %}
    {% if form.non_field_errors %}
      <div class="form-errors">
        {% for error in form.non_field_errors %}<p class="error">{{ error }}</p>{% endfor %}
      </div>
    {% endif %}
    <div class="form-field">
      <label for="id_old_password">Current password</label>
      <input type="password"
             name="old_password"
             id="id_old_password"
             required
             autocomplete="current-password">
      {% for error in form.old_password.errors %}<p class="error">{{ error }}</p>{% endfor %}
    </div>
    <div class="form-field">
      <label for="id_new_password1">New password</label>
      <input type="password"
             name="new_password1"
             id="id_new_password1"
             required
             autocomplete="new-password">
      {% for error in form.new_password1.errors %}<p class="error">{{ error }}</p>{% endfor %}
    </div>
    <div class="form-field">
      <label for="id_new_password2">Confirm new password</label>
      <input type="password"
             name="new_password2"
             id="id_new_password2"
             required
             autocomplete="new-password">
      {% for error in form.new_password2.errors %}<p class="error">{{ error }}</p>{% endfor %}
    </div>
    <div class="form-actions">
      <button type="submit" class="btn btn-primary">Change Password</button>
      <a href="{% url 'profile' %}" class="btn btn-secondary">Cancel</a>
    </div>
  </form>
{% endblock %}
